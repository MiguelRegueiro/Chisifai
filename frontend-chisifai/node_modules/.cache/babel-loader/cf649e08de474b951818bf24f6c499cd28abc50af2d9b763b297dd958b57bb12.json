{"ast":null,"code":"// apiService.js - API service module to connect with FastAPI backend\nconst API_BASE_URL=process.env.REACT_APP_API_URL||'http://localhost:8000';// Generic API fetch function with error handling\nconst apiFetch=async endpoint=>{try{// Add timeout to prevent hanging requests\nconst controller=new AbortController();const timeoutId=setTimeout(()=>controller.abort(),10000);// 10 second timeout\nconst response=await fetch(\"\".concat(API_BASE_URL).concat(endpoint),{signal:controller.signal});clearTimeout(timeoutId);if(!response.ok){throw new Error(\"HTTP error! status: \".concat(response.status));}const data=await response.json();return data;}catch(error){if(error.name==='AbortError'){console.error(\"Request timeout for \".concat(endpoint));}else{console.error(\"Error fetching from \".concat(endpoint,\":\"),error.message);}return null;}};// Fetch telemetry data\nexport const fetchTelemetryData=async()=>{return(await apiFetch('/api/telemetry'))||[];};// Fetch KPIs\nexport const fetchKPIs=async()=>{return(await apiFetch('/api/kpis'))||{};};// Fetch alerts\nexport const fetchAlerts=async()=>{return(await apiFetch('/api/alerts'))||[];};// Fetch location data\nexport const fetchLocationData=async()=>{return(await apiFetch('/api/location'))||[];};","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_URL","apiFetch","endpoint","controller","AbortController","timeoutId","setTimeout","abort","response","fetch","concat","signal","clearTimeout","ok","Error","status","data","json","error","name","console","message","fetchTelemetryData","fetchKPIs","fetchAlerts","fetchLocationData"],"sources":["/home/regueiro/Chisifai/frontend-chisifai/src/services/apiService.js"],"sourcesContent":["// apiService.js - API service module to connect with FastAPI backend\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000';\n\n// Generic API fetch function with error handling\nconst apiFetch = async (endpoint) => {\n  try {\n    // Add timeout to prevent hanging requests\n    const controller = new AbortController();\n    const timeoutId = setTimeout(() => controller.abort(), 10000); // 10 second timeout\n\n    const response = await fetch(`${API_BASE_URL}${endpoint}`, {\n      signal: controller.signal\n    });\n    \n    clearTimeout(timeoutId);\n    \n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    \n    const data = await response.json();\n    return data;\n  } catch (error) {\n    if (error.name === 'AbortError') {\n      console.error(`Request timeout for ${endpoint}`);\n    } else {\n      console.error(`Error fetching from ${endpoint}:`, error.message);\n    }\n    return null;\n  }\n};\n\n// Fetch telemetry data\nexport const fetchTelemetryData = async () => {\n  return await apiFetch('/api/telemetry') || [];\n};\n\n// Fetch KPIs\nexport const fetchKPIs = async () => {\n  return await apiFetch('/api/kpis') || {};\n};\n\n// Fetch alerts\nexport const fetchAlerts = async () => {\n  return await apiFetch('/api/alerts') || [];\n};\n\n// Fetch location data\nexport const fetchLocationData = async () => {\n  return await apiFetch('/api/location') || [];\n};\n\n"],"mappings":"AAAA;AAEA,KAAM,CAAAA,YAAY,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,EAAI,uBAAuB,CAE7E;AACA,KAAM,CAAAC,QAAQ,CAAG,KAAO,CAAAC,QAAQ,EAAK,CACnC,GAAI,CACF;AACA,KAAM,CAAAC,UAAU,CAAG,GAAI,CAAAC,eAAe,CAAC,CAAC,CACxC,KAAM,CAAAC,SAAS,CAAGC,UAAU,CAAC,IAAMH,UAAU,CAACI,KAAK,CAAC,CAAC,CAAE,KAAK,CAAC,CAAE;AAE/D,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAIb,YAAY,EAAAa,MAAA,CAAGR,QAAQ,EAAI,CACzDS,MAAM,CAAER,UAAU,CAACQ,MACrB,CAAC,CAAC,CAEFC,YAAY,CAACP,SAAS,CAAC,CAEvB,GAAI,CAACG,QAAQ,CAACK,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAC,KAAK,wBAAAJ,MAAA,CAAwBF,QAAQ,CAACO,MAAM,CAAE,CAAC,CAC3D,CAEA,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAR,QAAQ,CAACS,IAAI,CAAC,CAAC,CAClC,MAAO,CAAAD,IAAI,CACb,CAAE,MAAOE,KAAK,CAAE,CACd,GAAIA,KAAK,CAACC,IAAI,GAAK,YAAY,CAAE,CAC/BC,OAAO,CAACF,KAAK,wBAAAR,MAAA,CAAwBR,QAAQ,CAAE,CAAC,CAClD,CAAC,IAAM,CACLkB,OAAO,CAACF,KAAK,wBAAAR,MAAA,CAAwBR,QAAQ,MAAKgB,KAAK,CAACG,OAAO,CAAC,CAClE,CACA,MAAO,KAAI,CACb,CACF,CAAC,CAED;AACA,MAAO,MAAM,CAAAC,kBAAkB,CAAG,KAAAA,CAAA,GAAY,CAC5C,MAAO,MAAM,CAAArB,QAAQ,CAAC,gBAAgB,CAAC,GAAI,EAAE,CAC/C,CAAC,CAED;AACA,MAAO,MAAM,CAAAsB,SAAS,CAAG,KAAAA,CAAA,GAAY,CACnC,MAAO,MAAM,CAAAtB,QAAQ,CAAC,WAAW,CAAC,GAAI,CAAC,CAAC,CAC1C,CAAC,CAED;AACA,MAAO,MAAM,CAAAuB,WAAW,CAAG,KAAAA,CAAA,GAAY,CACrC,MAAO,MAAM,CAAAvB,QAAQ,CAAC,aAAa,CAAC,GAAI,EAAE,CAC5C,CAAC,CAED;AACA,MAAO,MAAM,CAAAwB,iBAAiB,CAAG,KAAAA,CAAA,GAAY,CAC3C,MAAO,MAAM,CAAAxB,QAAQ,CAAC,eAAe,CAAC,GAAI,EAAE,CAC9C,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}